<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WebDFU demo</title>
  </head>

  <body>
    <p id="status"></p>

    <p>
      <button id="connect">Connect</button>
    </p>

    <div>
      <p id="usbInfo"></p>
      <p id="dfuInfo"></p>
    </div>

    <form id="configForm">
      <label for="transferSize">Transfer Size:</label>
      <input type="number" name="transferSize" id="transferSize" value="1024" />

      <div id="dfuseFields" hidden>
        <label for="dfuseStartAddress">DfuSe Start Address:</label>
        <input
          type="text"
          name="dfuseStartAddress"
          id="dfuseStartAddress"
          title="Initial memory address to read/write from (hex)"
          size="10"
          pattern="0x[A-Fa-f0-9]+"
        />
        <label for="dfuseUploadSize">DfuSe Upload Size:</label>
        <input type="number" name="dfuseUploadSize" id="dfuseUploadSize" min="1" />
      </div>

      <fieldset>
        <legend>Firmware Download (write to USB device)</legend>

        <p>
          <input type="file" id="firmwareFile" name="file" disabled />
        </p>

        <p>
          <button id="download" disabled>Download</button>
        </p>

        <div class="log" id="downloadLog"></div>
      </fieldset>

      <fieldset>
        <legend>Firmware Upload (read from USB device)</legend>

        <p>
          <button id="upload" disabled>Upload</button>
        </p>

        <div class="log" id="uploadLog"></div>
      </fieldset>
    </form>

    <script src="index.ts"></script>
  </body>
</html>
